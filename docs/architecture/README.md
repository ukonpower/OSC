# アーキテクチャドキュメント

OREngineの設計思想、パッケージ構成、レンダリングパイプライン、ビルド最適化、改善提案をまとめています。

## ドキュメント構成

このディレクトリには、OREngineのアーキテクチャに関する詳細なドキュメントが含まれています。各ドキュメントは順序立てて読むことを推奨しますが、必要に応じて個別に参照することもできます。

### 01. [システム全体概要](./01-system-overview.md)

OREngineの全体像を理解するための導入ドキュメントです。

**内容:**
- OREngineとは
- 主な特徴（64KB制約、モジュラー設計、コンポーネントベース）
- システム構成（3つのパッケージ）
- コアシステム（Engine, Entity, Component）
- イベントシステム
- パフォーマンス最適化の概要

**対象読者:** 初めてOREngineに触れる開発者、全体像を把握したい方

### 02. [パッケージ構成](./02-package-structure.md)

各パッケージの詳細な構造とディレクトリ構成を説明します。

**内容:**
- 完全なディレクトリ構成
- glpower / maxpower / orengineパッケージの詳細
- カスタムViteプラグイン（ShaderMinifier, MangleManager, ResourceManager）
- デモとテストの構成
- 設定ファイルとパスエイリアス
- リソース管理

**対象読者:** コードベースを理解したい開発者、各パッケージの役割を知りたい方

### 03. [レンダリングパイプライン](./03-rendering-pipeline.md)

ディファードレンダリングとポストプロセスの詳細を解説します。

**内容:**
- レンダリングフロー全体
- シャドウマップ生成
- G-Buffer構成とジオメトリパス
- PBRライティング計算
- 環境マップとIBL
- ポストプロセスパイプライン（Bloom, トーンマッピング, SSAO, FXAA）
- シェーダーシステムとバリアント管理
- パフォーマンス最適化（バッチング、カリング、LOD、状態管理）

**対象読者:** レンダリングシステムを理解・改善したい開発者、グラフィックスに関心のある方

### 04. [ビルド最適化](./04-build-optimization.md)

64KB制約を満たすための最適化戦略とビルドシステムを説明します。

**内容:**
- 2つのビルド設定（開発 vs プロダクション）
- カスタムViteプラグインの詳細
- ShaderMinifierのセットアップと使用方法
- コード最適化手法（プロパティマングル、フラットな構造、メモリ管理）
- シェーダー最適化テクニック
- ベストプラクティス
- ビルドプロセスとサイズ削減チェックリスト
- トラブルシューティング

**対象読者:** ビルドシステムを理解・改善したい開発者、サイズ最適化に取り組む方

### 05. [改善提案とロードマップ](./05-improvement-roadmap.md)

今後の改善計画と実装ロードマップを提示します。

**内容:**
- 優先度の高い改善（ライフサイクル管理、メモリ管理、エラー処理）
- レンダリングパイプラインの最適化
- パフォーマンス最適化
- テスト体制の強化
- 64KB制約下での最適化指針
- 実装ロードマップ（4フェーズ）
- 評価指標

**対象読者:** プロジェクトの方向性を理解したい開発者、改善に貢献したい方

## 読み方ガイド

### 初めての方

1. [01. システム全体概要](./01-system-overview.md) から始めてください
2. 興味のある分野のドキュメントを順に読んでください
3. 必要に応じて他のドキュメント（[core/](../core/)、[guides/](../guides/) など）も参照してください

### 特定のトピックを調べたい方

- **パッケージの役割**: [02. パッケージ構成](./02-package-structure.md)
- **レンダリングの仕組み**: [03. レンダリングパイプライン](./03-rendering-pipeline.md)
- **ビルドの最適化**: [04. ビルド最適化](./04-build-optimization.md)
- **今後の計画**: [05. 改善提案とロードマップ](./05-improvement-roadmap.md)

### コントリビューターの方

1. すべてのドキュメントを順に読んでください
2. [05. 改善提案とロードマップ](./05-improvement-roadmap.md) で今後の方向性を確認してください
3. 他のドキュメント（[../core/](../core/)、[../integration/](../integration/) など）も参照して全体像を把握してください

## 関連ドキュメント

### [core/](../core/) - コア機能の詳細

- [entity.md](../core/entity.md) - エンティティシステムとシーングラフ
- [components.md](../core/components.md) - コンポーネントシステムの詳細
- [render-pipeline.md](../core/render-pipeline.md) - レンダリングパイプラインの実装詳細

### [integration/](../integration/) - 外部ツール連携

- [blender.md](../integration/blender.md) - BLidgeシステムとBlender連携

### [guides/](../guides/) - 実践ガイド

- [setup.md](../guides/setup.md) - 詳細なセットアップ手順

## Mermaid図について

このドキュメントではシステムの構造やフローを視覚化するためにMermaid図を使用しています。GitHub上で閲覧する場合は自動的にレンダリングされます。ローカルで閲覧する場合は、Mermaid対応のMarkdownビューアーをご使用ください。

## フィードバックと貢献

ドキュメントの改善提案や誤字・脱字の報告は、GitHubのIssueまたはPull Requestでお願いします。

---

最終更新: 2025-10-05
